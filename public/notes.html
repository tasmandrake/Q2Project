<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Jump Note</title>

    <!-- jQuery CDN -->
    <script
    src="http://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!--team style sheet-->
    <link rel="stylesheet" href="./style.css">

    <!--team javascript-->

    <script id="teamscript" type="text/javascript" src="./app.js"></script>
  </head>

  <body>
      <div id="flexbox">

        <div id="left">
          <div id="player">
          <!--video goes here-->
          </div>
          <script>
          let query = {};
          window.location.href.split('?')[1]
          .split('&')
          .map(e => {
            let kv = e.split('=');
            query[kv[0]] = kv[1];
          });
            // 2. This code loads the IFrame Player API code asynchronously.
            var tag = document.createElement('script');
            console.log(document.getElementsByTagName('script')[2]);
            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[2];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            // 3. This function creates an <iframe> (and YouTube player)
            //    after the API code downloads.
            var player;
            function onYouTubeIframeAPIReady() {
              player = new YT.Player('player', {
                height: '390',
                width: '640',
                videoId: query.id,
                events: {
                  'onReady': onPlayerReady,
                  'onStateChange': onPlayerStateChange
                }
              });
            }

            // 4. The API will call this function when the video player is ready.
            function onPlayerReady(event) {
              // event.target.playVideo();
              console.log(event.target.getCurrentTime())
            }

            // 5. The API calls this function when the player's state changes.
            //    The function indicates that when playing a video (state=1),
            //    the player should play for six seconds and then stop.
            var done = false;
            function onPlayerStateChange(event) {
              console.log('changed')
              if (event.data == YT.PlayerState.PLAYING && !done) {
                setTimeout(stopVideo, 6000);
                done = true;
              }
              console.log(event.target.getCurrentTime())
            }
            function stopVideo() {
              player.stopVideo();
            }
          </script>
        </div>
    <div id="middle">Timestamp:</div>

    <div id="right"><textarea id="notes" placeholder="Take Notes Here..."></textarea></div>
  </div>


    </body>

</html>
